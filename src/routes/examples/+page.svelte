<script lang="ts">
	/**
	 * FormState ç¤ºä¾‹å±•ç¤ºé¡µé¢
	 * å±•ç¤ºå„ç§è¡¨å•ä½¿ç”¨åœºæ™¯
	 */
	import { base } from '$app/paths';

	interface Example {
		title: string;
		description: string;
		path: string;
		difficulty: 'beginner' | 'intermediate' | 'advanced';
		tags: string[];
	}

	const examples: Example[] = [
		{
			title: 'P0 Bug ä¿®å¤éªŒè¯',
			description: 'âš ï¸ éªŒè¯5ä¸ªè‡´å‘½Bugçš„ä¿®å¤ï¼šresetæ¸…ç†ã€ä¾èµ–éªŒè¯ã€è·¯å¾„è®¾ç½®ã€æ‰¹é‡é€šçŸ¥ã€å¹¶è¡ŒéªŒè¯',
			path: `${base}/examples/p0-bugfixes`,
			difficulty: 'advanced',
			tags: ['è‡´å‘½Bug', 'P0ä¿®å¤', 'è´¨é‡ä¿è¯', 'å›å½’æµ‹è¯•']
		},
		{
			title: 'Performance Test',
			description: 'æ€§èƒ½æµ‹è¯•ï¼šæ‰¹é‡æ›´æ–°ã€è·¯å¾„ä¼˜åŒ–ã€å¾ªç¯ä¾èµ–ã€å¼‚æ­¥éªŒè¯ç«æ€æ¡ä»¶',
			path: `${base}/examples/performance-test`,
			difficulty: 'advanced',
			tags: ['æ€§èƒ½', 'ä¼˜åŒ–', 'Bugä¿®å¤', 'æµ‹è¯•']
		},
		{
			title: 'BigInt åºåˆ—åŒ–',
			description: 'å®‰å…¨åºåˆ—åŒ–ï¼šæ”¯æŒ BigIntã€Dateã€Mapã€Set ç­‰ç‰¹æ®Šç±»å‹çš„ JSON åºåˆ—åŒ–',
			path: `${base}/examples/bigint-serialization`,
			difficulty: 'intermediate',
			tags: ['åºåˆ—åŒ–', 'BigInt', 'Web3', 'ç±»å‹å®‰å…¨']
		},
		{
			title: 'Bug Fixes Demo',
			description: 'éªŒè¯å…³é”®bugä¿®å¤ï¼šFieldArrayè·¯å¾„é‡æ˜ å°„ã€ä¾èµ–å­—æ®µonChangeã€åŠ¨æ€å­—æ®µæ³¨é”€',
			path: `${base}/examples/bug-fixes-demo`,
			difficulty: 'advanced',
			tags: ['Bugä¿®å¤', 'æµ‹è¯•', 'FieldArray', 'å†…å­˜ç®¡ç†']
		},
		{
			title: 'åŸºç¡€è¡¨å•',
			description: 'ç®€å•çš„ç™»å½•è¡¨å•ï¼Œæ¼”ç¤ºè¡¨å•å­—æ®µã€éªŒè¯å’Œæäº¤',
			path: `${base}/examples/basic-form`,
			difficulty: 'beginner',
			tags: ['éªŒè¯', 'åŸºç¡€ç”¨æ³•']
		},
		{
			title: 'åŠ¨æ€æ•°ç»„',
			description: 'åŠ¨æ€æ·»åŠ /åˆ é™¤è¡¨å•é¡¹ï¼Œæ‹–æ‹½æ’åºï¼Œå¦‚å›¢é˜Ÿæˆå‘˜åˆ—è¡¨',
			path: `${base}/examples/dynamic-arrays`,
			difficulty: 'intermediate',
			tags: ['FieldArray', 'åŠ¨æ€å­—æ®µ', 'æ‹–æ‹½æ’åº']
		},
		{
			title: 'å­—æ®µä¾èµ–',
			description: 'å¯†ç ç¡®è®¤ã€æŠ˜æ‰£ç éªŒè¯ç­‰ä¾èµ–å…¶ä»–å­—æ®µçš„éªŒè¯åœºæ™¯',
			path: `${base}/examples/field-dependencies`,
			difficulty: 'intermediate',
			tags: ['ä¾èµ–', 'çº§è”éªŒè¯', 'dependencies']
		},
		{
			title: 'è¾“å…¥å®ŒæˆéªŒè¯',
			description: 'å¯¹æ¯” validateOnComplete vs onChange vs onBlur ä¸‰ç§éªŒè¯æ¨¡å¼',
			path: `${base}/examples/complete-validation`,
			difficulty: 'intermediate',
			tags: ['éªŒè¯æ—¶æœº', 'é˜²æŠ–', 'UX']
		},
		{
			title: 'è¡¨å•æŒä¹…åŒ–',
			description: 'ä½¿ç”¨ localStorage å®ç°è‡ªåŠ¨ä¿å­˜ã€æ¢å¤ã€å¯¼å‡º/å¯¼å…¥',
			path: `${base}/examples/form-persistence`,
			difficulty: 'intermediate',
			tags: ['localStorage', 'serialize', 'è‡ªåŠ¨ä¿å­˜']
		},
		{
			title: 'å€¼è½¬æ¢å™¨',
			description: 'ä½¿ç”¨å†…ç½®å’Œè‡ªå®šä¹‰ Transformers æ ¼å¼åŒ–ç”¨æˆ·è¾“å…¥',
			path: `${base}/examples/transformers`,
			difficulty: 'beginner',
			tags: ['æ ¼å¼åŒ–', 'è½¬æ¢å™¨', 'Transformers']
		},
		{
			title: 'å¤šæ­¥è¡¨å•',
			description: 'åˆ†æ­¥éªŒè¯ã€è¿›åº¦è·Ÿè¸ªã€æ­¥éª¤å¯¼èˆªçš„æ³¨å†Œè¡¨å•',
			path: `${base}/examples/multi-step-form`,
			difficulty: 'advanced',
			tags: ['å¤šæ­¥éª¤', 'validateFields', 'å‘å¯¼']
		},
		{
			title: 'Solidity ABI è¡¨å•',
			description: 'Web3 åœºæ™¯ï¼šSolidity å‡½æ•°å‚æ•°è¾“å…¥ï¼Œæ”¯æŒåŠ¨æ€æ•°ç»„å’Œç»“æ„ä½“',
			path: `${base}/examples/abi-form`,
			difficulty: 'advanced',
			tags: ['Web3', 'ABI', 'åŠ¨æ€æ•°ç»„']
		},
		{
			title: 'å¤æ‚åµŒå¥— ABI',
			description: 'é€’å½’æ¸²æŸ“ï¼štuple[]ä¸­åµŒå¥—tuple[]ï¼Œæ”¯æŒæ— é™æ·±åº¦',
			path: `${base}/examples/abi-form-nested`,
			difficulty: 'advanced',
			tags: ['Web3', 'é€’å½’', 'æ·±åº¦åµŒå¥—']
		},
		{
			title: 'æ¡ä»¶å­—æ®µ',
			description: 'æ ¹æ®ç”¨æˆ·é€‰æ‹©åŠ¨æ€æ˜¾ç¤º/éšè—å­—æ®µ',
			path: `${base}/examples/conditional-fields`,
			difficulty: 'intermediate',
			tags: ['æ¡ä»¶æ¸²æŸ“', 'åŠ¨æ€è¡¨å•']
		},
		{
			title: 'Schema è¡¨å•',
			description: 'é€šè¿‡ JSON Schema è‡ªåŠ¨ç”Ÿæˆè¡¨å•',
			path: `${base}/examples/schema-form`,
			difficulty: 'advanced',
			tags: ['Schema', 'è‡ªåŠ¨ç”Ÿæˆ']
		},
		{
			title: 'å¼‚æ­¥éªŒè¯',
			description: 'å®æ—¶éªŒè¯ç”¨æˆ·åæ˜¯å¦å¯ç”¨',
			path: `${base}/examples/async-validation`,
			difficulty: 'advanced',
			tags: ['å¼‚æ­¥', 'éªŒè¯']
		}
	];

	const difficultyColors = {
		beginner: 'bg-green-100 text-green-800',
		intermediate: 'bg-yellow-100 text-yellow-800',
		advanced: 'bg-red-100 text-red-800'
	};

	const difficultyLabels = {
		beginner: 'åˆçº§',
		intermediate: 'ä¸­çº§',
		advanced: 'é«˜çº§'
	};
</script>

<svelte:head>
	<title>FormState Examples | BiuBiu.tools</title>
	<meta name="description" content="FormState è¡¨å•åº“ä½¿ç”¨ç¤ºä¾‹" />
</svelte:head>

<div class="examples-page">
	<header class="page-header">
		<h1>FormState ä½¿ç”¨ç¤ºä¾‹</h1>
		<p class="subtitle">å¼ºå¤§çš„è¡¨å•çŠ¶æ€ç®¡ç†åº“ï¼Œæ”¯æŒåµŒå¥—ã€åŠ¨æ€å­—æ®µã€å¼‚æ­¥éªŒè¯</p>
	</header>

	<section class="features-overview">
		<h2>æ ¸å¿ƒç‰¹æ€§</h2>
		<div class="features-grid">
			<div class="feature-card">
				<div class="feature-icon">ğŸ¯</div>
				<h3>æ¥å£å…ˆè¡Œ</h3>
				<p>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œæ˜“äºæ‰©å±•å’Œæµ‹è¯•</p>
			</div>
			<div class="feature-card">
				<div class="feature-icon">âš¡</div>
				<h3>Svelte 5 Runes</h3>
				<p>ä½¿ç”¨æœ€æ–°çš„å“åº”å¼ API</p>
			</div>
			<div class="feature-card">
				<div class="feature-icon">ğŸ”„</div>
				<h3>é€’å½’åµŒå¥—</h3>
				<p>æ”¯æŒæ·±å±‚å¯¹è±¡å’Œæ•°ç»„è·¯å¾„</p>
			</div>
			<div class="feature-card">
				<div class="feature-icon">âœ…</div>
				<h3>å¼‚æ­¥éªŒè¯</h3>
				<p>è‡ªåŠ¨é˜²æŠ–å’Œå–æ¶ˆæœºåˆ¶</p>
			</div>
			<div class="feature-card">
				<div class="feature-icon">ğŸ¨</div>
				<h3>Headless UI</h3>
				<p>å®Œå…¨è‡ªå®šä¹‰è¡¨å•å¤–è§‚</p>
			</div>
			<div class="feature-card">
				<div class="feature-icon">ğŸ“¦</div>
				<h3>å¯ç»„åˆ</h3>
				<p>çµæ´»çš„ç»„ä»¶ç»„åˆæ–¹å¼</p>
			</div>
		</div>
	</section>

	<section class="examples-section">
		<h2>ç¤ºä¾‹åˆ—è¡¨</h2>
		<div class="examples-grid">
			{#each examples as example (example.path)}
				<a href={example.path} class="example-card">
					<div class="example-header">
						<h3>{example.title}</h3>
						<span class="difficulty-badge {difficultyColors[example.difficulty]}">
							{difficultyLabels[example.difficulty]}
						</span>
					</div>
					<p class="example-description">{example.description}</p>
					<div class="example-tags">
						{#each example.tags as tag}
							<span class="tag">{tag}</span>
						{/each}
					</div>
					<div class="example-cta">æŸ¥çœ‹ç¤ºä¾‹ â†’</div>
				</a>
			{/each}
		</div>
	</section>

	<section class="quick-start">
		<h2>å¿«é€Ÿå¼€å§‹</h2>
		<div class="code-block">
			<pre><code
					>{`import { useFormState, Form, FormField, Validators } from '@biubiu/formstate';

const form = useFormState({
  fields: {
    email: {
      validator: Validators.compose(
        Validators.required(),
        Validators.email()
      )
    }
  }
});

<Form {form} onSubmit={handleSubmit}>
  <FormField name="email" label="Email">
    {#snippet children({ value, onInput, onBlur })}
      <input type="email" {value} oninput={e => onInput(e.target.value)} onblur={onBlur} />
    {/snippet}
  </FormField>
</Form>`}</code
				></pre>
		</div>
	</section>
</div>

<style>
	.examples-page {
		max-width: 1200px;
		margin: 0 auto;
		padding: 3rem 1.5rem;
	}

	.page-header {
		text-align: center;
		margin-bottom: 4rem;
	}

	.page-header h1 {
		font-size: 3rem;
		font-weight: 800;
		margin-bottom: 1rem;
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.subtitle {
		font-size: 1.25rem;
		color: #6b7280;
	}

	.features-overview,
	.examples-section,
	.quick-start {
		margin-bottom: 4rem;
	}

	.features-overview h2,
	.examples-section h2,
	.quick-start h2 {
		font-size: 2rem;
		font-weight: 700;
		margin-bottom: 2rem;
		text-align: center;
	}

	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 1.5rem;
	}

	.feature-card {
		padding: 2rem;
		background: white;
		border: 1px solid #e5e7eb;
		border-radius: 1rem;
		text-align: center;
		transition:
			transform 0.2s,
			box-shadow 0.2s;
	}

	.feature-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
	}

	.feature-icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.feature-card h3 {
		font-size: 1.25rem;
		font-weight: 600;
		margin-bottom: 0.5rem;
	}

	.feature-card p {
		color: #6b7280;
		font-size: 0.875rem;
	}

	.examples-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
		gap: 1.5rem;
	}

	.example-card {
		display: block;
		padding: 1.5rem;
		background: white;
		border: 2px solid #e5e7eb;
		border-radius: 0.75rem;
		text-decoration: none;
		color: inherit;
		transition: all 0.2s;
	}

	.example-card:hover {
		border-color: #667eea;
		box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
		transform: translateY(-2px);
	}

	.example-header {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		margin-bottom: 0.75rem;
	}

	.example-card h3 {
		font-size: 1.25rem;
		font-weight: 600;
		margin: 0;
	}

	.difficulty-badge {
		padding: 0.25rem 0.75rem;
		border-radius: 9999px;
		font-size: 0.75rem;
		font-weight: 600;
	}

	.bg-green-100 {
		background-color: #d1fae5;
	}
	.text-green-800 {
		color: #065f46;
	}
	.bg-yellow-100 {
		background-color: #fef3c7;
	}
	.text-yellow-800 {
		color: #92400e;
	}
	.bg-red-100 {
		background-color: #fee2e2;
	}
	.text-red-800 {
		color: #991b1b;
	}

	.example-description {
		color: #6b7280;
		margin-bottom: 1rem;
		line-height: 1.6;
	}

	.example-tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
		margin-bottom: 1rem;
	}

	.tag {
		padding: 0.25rem 0.75rem;
		background: #f3f4f6;
		border-radius: 0.375rem;
		font-size: 0.75rem;
		color: #374151;
	}

	.example-cta {
		color: #667eea;
		font-weight: 600;
		font-size: 0.875rem;
	}

	.code-block {
		background: #1e293b;
		border-radius: 0.75rem;
		padding: 1.5rem;
		overflow-x: auto;
	}

	.code-block pre {
		margin: 0;
	}

	.code-block code {
		color: #e2e8f0;
		font-family: 'Fira Code', 'Monaco', 'Courier New', monospace;
		font-size: 0.875rem;
		line-height: 1.7;
	}

	@media (max-width: 768px) {
		.page-header h1 {
			font-size: 2rem;
		}

		.subtitle {
			font-size: 1rem;
		}

		.examples-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
